<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="HoGent Bedrijf en Organisatie">
  <title>Besturingssystemen: Linux</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="reveal.js/css/reveal.css">
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; } /* Alert */
code span.an { color: #008000; } /* Annotation */
code span.at { } /* Attribute */
code span.bu { } /* BuiltIn */
code span.cf { color: #0000ff; } /* ControlFlow */
code span.ch { color: #008080; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #008000; } /* Comment */
code span.cv { color: #008000; } /* CommentVar */
code span.do { color: #008000; } /* Documentation */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.im { } /* Import */
code span.in { color: #008000; } /* Information */
code span.kw { color: #0000ff; } /* Keyword */
code span.op { } /* Operator */
code span.ot { color: #ff4000; } /* Other */
code span.pp { color: #ff4000; } /* Preprocessor */
code span.sc { color: #008080; } /* SpecialChar */
code span.ss { color: #008080; } /* SpecialString */
code span.st { color: #008080; } /* String */
code span.va { } /* Variable */
code span.vs { color: #008080; } /* VerbatimString */
code span.wa { color: #008000; font-weight: bold; } /* Warning */
  </style>
  <link rel="stylesheet" href="reveal.js/css/theme/hogent.css" id="theme">
  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ? 'reveal.js/css/print/pdf.css' : 'reveal.js/css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
  </script>
  <!--[if lt IE 9]>
  <script src="reveal.js/lib/js/html5shiv.js"></script>
  <![endif]-->
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section id="title-slide">
  <h1 class="title">Besturingssystemen: Linux</h1>
  <p class="author">HoGent Bedrijf en Organisatie</p>
  <p class="date">2017-2018</p>
</section>

<section><section id="hoofdstuk-1.-linux-installeren" class="title-slide slide level1"><h1>Hoofdstuk 1. Linux installeren</h1></section><section id="linux-installeren" class="slide level2">
<h2>Linux installeren</h2>
<p>zie slides leerpad Chamilo</p>
</section></section>
<section><section id="hoofdstuk-2.-linux-leren-kennen" class="title-slide slide level1"><h1>Hoofdstuk 2. Linux leren kennen</h1></section><section id="hulp-zoeken" class="slide level2">
<h2>Hulp zoeken</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># Hulp over het commando &#39;passwd&#39;</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="fu">man</span> passwd</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="co"># Hulp over het configuratiebestand /etc/passwd</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="fu">man</span> 5 passwd</a>
<a class="sourceLine" id="cb1-6" data-line-number="6"></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="co"># Zoek in alle man-pages naar de string &#39;passwd&#39;</span></a>
<a class="sourceLine" id="cb1-8" data-line-number="8"><span class="fu">man</span> -k passwd</a>
<a class="sourceLine" id="cb1-9" data-line-number="9"><span class="fu">apropos</span> passwd</a></code></pre></div>
</section><section id="hulp-zoeken-1" class="slide level2">
<h2>Hulp zoeken</h2>
<ul>
<li>Binnen man-page:
<ul>
<li><code>q</code> - man-page verlaten</li>
<li><code>/</code> - zoeken binnen de pagina</li>
<li><code>n</code> - ga naar volgende zoekresultaat</li>
<li><code>N</code> - ga naar vorige zoekresultaat</li>
</ul></li>
<li>Secties, vb:
<ul>
<li>1 - commando’s</li>
<li>5 - configuratiebestanden</li>
<li>8 - systeembeheercommando’s</li>
<li>Notatie: vb. <code>passwd(1)</code>, <code>passwd(5)</code></li>
</ul></li>
</ul>
</section><section id="belangrijke-man-pages" class="slide level2">
<h2>Belangrijke man-pages</h2>
<p>… die niet over een commando gaan:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co"># directorystructuur Linux (Filesystem Hierarchy)</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="fu">man</span> hier</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co"># &quot;ingebouwde&quot; Bash commando&#39;s</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="fu">man</span> builtins</a>
<a class="sourceLine" id="cb2-6" data-line-number="6"></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co"># &quot;wildcards&quot; in bestandsnamen (bv. *.*, [a-z])</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="fu">man</span> 7 glob</a></code></pre></div>
</section><section id="structuur-van-een-commandoregel" class="slide level2">
<h2>Structuur van een commandoregel</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb3-1" data-line-number="1">$ <span class="ex">COMMANDO</span> [OPTIES]... [ARGUMENTEN]...</a></code></pre></div>
<ul>
<li>“Onderdelen” gescheiden door <strong>spaties</strong></li>
<li>1e woord = <strong>commando</strong></li>
<li><strong>Opties</strong> veranderen het gedrag van een commando
<ul>
<li>beginnen met streepje (<code>-</code> of <code>--</code>)</li>
</ul></li>
<li><strong>Argumenten</strong> zijn de entiteiten waarop het commando uitgevoerd wordt</li>
</ul>
</section><section id="commando" class="slide level2">
<h2>Commando</h2>
<p>Het eerste “woord” van een opdrachtregel moet een <strong>commando</strong> zijn</p>
<ul>
<li>Alias of functie, gedefinieerd door gebruiker</li>
<li>Ingebouwd in Bash (zie <code>man builtins</code>)</li>
<li>Uitvoerbaar bestand in één van de directories in <code>${PATH}</code></li>
<li>Absoluut pad naar uitvoerbaar bestand</li>
<li><code>which COMMANDO</code></li>
</ul>
<p><strong>Let op!</strong> Bash zoekt nooit in de huidige directory!</p>
</section><section id="opties" class="slide level2">
<h2>Opties</h2>
<p>Wijzigen het gedrag van het commando</p>
<ul>
<li>Korte notatie: <code>-a -b -c</code>
<ul>
<li>Korter schrijven als <code>-abc</code></li>
</ul></li>
<li>Lange notatie: <code>--foo --bar</code></li>
</ul>
<p><strong>Let op!</strong> Niet alle commando’s volgen de conventie! (bv <code>find</code>)</p>
</section><section id="substitutieexpansie" class="slide level2">
<h2>Substitutie/expansie</h2>
<p>Vóór uitvoeren van een commando vervangt Bash bepaalde uitdrukkingen:</p>
<ul>
<li><em>Brace expansion</em>, vb. <code>{1..10}</code>, <code>dir/{subdir1,subdir2,subdir3}</code>
<ul>
<li>vb. <code>mkdir -p project/{src,lib,build}</code></li>
</ul></li>
<li><em>Tilde expansion</em>: <code>~</code> wordt vervangen door home-directory, vb. <code>/home/student/</code>
<ul>
<li>vb. <code>ls ~/.ssh</code></li>
</ul></li>
<li><em>Parameter expansion</em>: variabelennamen worden vervangen door waarde, vb. <code>${USER}</code> -&gt; <code>student</code></li>
</ul>
</section><section id="substitutieexpansie-1" class="slide level2">
<h2>Substitutie/expansie</h2>
<ul>
<li><em>Command substitution</em>: <code>$(commando)</code> wordt vervangen door uitvoer van <code>commando</code>
<ul>
<li>vb. <code>date=$(date)</code></li>
</ul></li>
<li><em>Filename expansion</em> of “globbing”: wildcards in bestandsnamen, vb. <code>*</code>, <code>?</code>, <code>[abc]</code>, enz.
<ul>
<li>vb. <code>rm *.class</code></li>
</ul></li>
<li>…</li>
</ul>
</section><section id="resultaat-expansie" class="slide level2">
<h2>Resultaat expansie</h2>
<ul>
<li><code>set -x</code> toont resultaat van expansie (“debug mode”)</li>
<li><code>set +x</code> zet optie terug uit</li>
</ul>
<p>Voorbeeld:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">set</span> <span class="ex">-x</span><span class="kw">;</span> <span class="fu">ls</span> -ld <span class="va">${HOME}</span>/D[eo]*<span class="kw">;</span> <span class="kw">set</span> <span class="ex">+x</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="kw">set</span> <span class="ex">-x</span><span class="kw">;</span> <span class="fu">mkdir</span> -p a/<span class="dt">{b,c,d}/{e,f}</span><span class="kw">;</span> <span class="kw">set</span> <span class="ex">+x</span></a></code></pre></div>
</section><section id="linux-directorystructuur" class="slide level2">
<h2>Linux directorystructuur</h2>
<p><img data-src="https://linuxconfig.org/images/Directory-Filesystem-Hierarchy-Standard.jpg" /></p>
</section><section id="absoluutrelatief-pad" class="slide level2">
<h2>Absoluut/relatief pad</h2>
<ul>
<li><em>Absoluut</em> pad:
<ul>
<li>begint met <code>/</code></li>
<li>ten opzichte van ‘root directory’ <code>/</code></li>
<li>vb. <code>/home/student</code>, <code>/tmp</code>, <code>/var/www</code></li>
</ul></li>
<li><em>Relatief</em> pad:
<ul>
<li>begint <strong>niet</strong> met <code>/</code></li>
<li>ten opzichte van <strong>huidige</strong> directory (<code>pwd</code>)</li>
<li><code>ls Documents</code>, <code>mkdir linux</code></li>
</ul></li>
</ul>
</section><section id="speciale-directorynamen" class="slide level2">
<h2>Speciale directorynamen</h2>
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>/</code></td>
<td style="text-align: left;">De “root directory”</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>.</code></td>
<td style="text-align: left;">De huidige directory (<code>pwd</code>)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>..</code></td>
<td style="text-align: left;">De bovenliggende directory</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>~</code></td>
<td style="text-align: left;">Je “home-directory” (vb. <code>/home/student</code>)</td>
</tr>
</tbody>
</table>
<p><strong>Opm.</strong> De “home directory” van de gebruiker “root” is <code>/root</code></p>
</section><section id="werken-met-directories" class="slide level2">
<h2>Werken met directories</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Commando</th>
<th style="text-align: left;">Taak</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>pwd</code></td>
<td style="text-align: left;">Toon huidige directory</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>ls</code></td>
<td style="text-align: left;">Toon inhoud huidige directory</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>cd</code></td>
<td style="text-align: left;">Ga naar een andere directory</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>mkdir</code></td>
<td style="text-align: left;">Maak een subdirectory aan</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>rmdir</code></td>
<td style="text-align: left;">Verwijder een lege directory</td>
</tr>
</tbody>
</table>
</section><section id="werken-met-bestanden" class="slide level2">
<h2>Werken met bestanden</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Commando</th>
<th style="text-align: left;">Taak</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>cat</code></td>
<td style="text-align: left;">Toon inhoud van een bestand</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>less</code></td>
<td style="text-align: left;">Toon inhoud, per pagina (navigeer met pijltjes)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>touch</code></td>
<td style="text-align: left;">Maak leeg bestand aan</td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">(eigenlijk: pas datum laatste wijziging aan)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>cp</code></td>
<td style="text-align: left;">Kopieer bestanden</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>mv</code></td>
<td style="text-align: left;">Verplaats bestanden (of hernoemen!)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>rm</code></td>
<td style="text-align: left;">Verwijder bestanden of directories</td>
</tr>
</tbody>
</table>
</section><section id="hoe-maak-je-een-bestand-aan" class="slide level2">
<h2>Hoe maak je een bestand aan?</h2>
<ol type="1">
<li>Met teksteditor Vi/Vim: <code>vim bestand.txt</code></li>
<li>Met teksteditor Nano: <code>nano bestand.txt</code></li>
<li>Leeg bestand: <code>touch bestand.txt</code></li>
</ol>
</section><section id="vim-survival-guide" class="slide level2">
<h2>Vim survival guide</h2>
<ul>
<li>Bij opstarten van Vim kom je terecht in <em>normal mode</em>.</li>
<li>Als je tekst wil invoeren moet je naar <em>insert mode</em>.</li>
</ul>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Taak</th>
<th style="text-align: left;">Commando</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Normal mode -&gt; insert mode</td>
<td style="text-align: left;"><code>i</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Insert mode -&gt; normal mode</td>
<td style="text-align: left;"><code>&lt;Esc&gt;</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Opslaan</td>
<td style="text-align: left;"><code>:w</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Opslaan en afsluiten</td>
<td style="text-align: left;"><code>:wq</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Afsluiten zonder opslaan</td>
<td style="text-align: left;"><code>:q!</code></td>
</tr>
</tbody>
</table>
</section><section id="nano" class="slide level2">
<h2>Nano</h2>
<ul>
<li>Ook een command-line teksteditor</li>
<li>Iets toegankelijker dan Vim</li>
<li>Shortcuts staan onderaan het scherm
<ul>
<li>vb. Exit: <code>^X</code> -&gt; Ctrl+X</li>
</ul></li>
</ul>
</section></section>
<section><section id="hoofdstuk-3.-werken-met-tekst" class="title-slide slide level1"><h1>Hoofdstuk 3. Werken met tekst</h1></section><section id="tekst-afdrukken-met-echo" class="slide level2">
<h2>Tekst afdrukken met echo</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="bu">echo</span> <span class="st">&quot;Hallo wereld!&quot;</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="bu">echo</span> <span class="st">&quot;Hallo </span><span class="va">${USER}</span><span class="st">!&quot;</span>  # variabelen gebruiken</a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="bu">echo</span> <span class="st">&#39;Hallo ${USER}!&#39;</span>  # enkele aanhalingstekens!</a></code></pre></div>
</section><section id="tekst-afdrukken-met-printf" class="slide level2">
<h2>Tekst afdrukken met printf</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="bu">printf</span> <span class="st">&#39;Hallo wereld!\n&#39;</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="bu">printf</span> <span class="st">&#39;Hallo %s!\n&#39;</span> <span class="st">&quot;</span><span class="va">${USER}</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="bu">printf</span> <span class="st">&#39;Het gebruikers-ID van %s is %d\n&#39;</span> <span class="st">&quot;</span><span class="va">${USER}</span><span class="st">&quot;</span> <span class="st">&quot;</span><span class="va">${UID}</span><span class="st">&quot;</span> </a></code></pre></div>
<ul>
<li>vgl. <code>printf()</code> <a href="https://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html#printf(java.lang.String,%20java.lang.Object...)">methode in Java</a>!</li>
<li>aangewezen in scripts, beter gedefinieerd dan <code>echo</code></li>
</ul>
</section><section id="input-en-output" class="slide level2">
<h2>Input en output</h2>
<p><img data-src="http://linux-training.be/funhtml/images/bash_stdin_stdout_stderr.svg" /></p>
<ul>
<li><em>stdin</em>, standard input
<ul>
<li>vgl. Java <code>System.in</code></li>
</ul></li>
<li><em>stdout</em>, standard output
<ul>
<li>vgl. <code>System.out</code></li>
</ul></li>
<li><em>stderr</em>, standard error
<ul>
<li>vgl. <code>System.err</code></li>
</ul></li>
</ul>
</section><section id="normaal-gedrag" class="slide level2">
<h2>Normaal gedrag</h2>
<ul>
<li><em>standard input</em>: invoer toetsenbord</li>
<li><em>standard output/error</em>: afdrukken op scherm (console)</li>
</ul>
<p><img data-src="http://linux-training.be/funhtml/images/bash_ioredirection_keyboard_display.png" /></p>
</section><section id="io-redirection" class="slide level2">
<h2>I/O Redirection</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Syntax</th>
<th style="text-align: left;">Betekenis</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>cmd &gt; file</code></td>
<td style="text-align: left;">schrijf uitvoer van <code>cmd</code> weg naar <code>file</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>cmd &gt;&gt; file</code></td>
<td style="text-align: left;">voeg toe aan einde van <code>file</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>cmd 2&gt; file</code></td>
<td style="text-align: left;">schrijf foutboodschappen van <code>cmd</code> weg naar <code>file</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>cmd &lt; file</code></td>
<td style="text-align: left;">gebruik inhoud van <code>file</code> als invoer voor <code>cmd</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>cmd1 | cmd2</code></td>
<td style="text-align: left;">gebruik uitvoer van <code>cmd1</code> als invoer voor <code>cmd2</code></td>
</tr>
</tbody>
</table>
</section><section id="io-redirection-1" class="slide level2">
<h2>I/O Redirection</h2>
<p><code>cmd &gt; file</code></p>
<p><img data-src="http://linux-training.be/funhtml/images/bash_output_redirection.png" /></p>
</section><section id="io-redirection-2" class="slide level2">
<h2>I/O Redirection</h2>
<p><code>cmd 2&gt; file</code></p>
<p><img data-src="http://linux-training.be/funhtml/images/bash_error_redirection.png" /></p>
</section><section id="combineren" class="slide level2">
<h2>Combineren</h2>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="co"># stdout en stderr apart wegschrijven</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="fu">find</span> / -type d <span class="op">&gt;</span> directories.txt <span class="op">2&gt;</span> errors.txt</a>
<a class="sourceLine" id="cb7-3" data-line-number="3"></a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="co"># stderr &quot;negeren&quot;</span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="fu">find</span> / -type d <span class="op">&gt;</span> directories.txt <span class="op">2&gt;</span> /dev/null</a>
<a class="sourceLine" id="cb7-6" data-line-number="6"></a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="co"># stdout en stderr samen wegschrijven</span></a>
<a class="sourceLine" id="cb7-8" data-line-number="8"><span class="fu">find</span> / -type d <span class="op">&gt;</span> all.txt <span class="op">2&gt;&amp;1</span></a>
<a class="sourceLine" id="cb7-9" data-line-number="9"></a>
<a class="sourceLine" id="cb7-10" data-line-number="10"><span class="co"># invoer én uitvoer omleiden</span></a>
<a class="sourceLine" id="cb7-11" data-line-number="11"><span class="fu">sort</span> <span class="op">&lt;</span> unsorted.txt <span class="op">&gt;</span> sorted.txt <span class="op">2&gt;</span> errors.txt</a></code></pre></div>
</section><section id="foutboodschappen-afdrukken" class="slide level2">
<h2>Foutboodschappen afdrukken</h2>
<p>(Equivalent van <a href="https://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html#printf(java.lang.String,%20java.lang.Object...)">System.err.printf()</a>)</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="bu">printf</span> <span class="st">&quot;Error: %s is not a directory\n&quot;</span> <span class="st">&quot;</span><span class="va">${dir}</span><span class="st">&quot;</span> <span class="op">&gt;&amp;2</span></a></code></pre></div>
</section><section id="here-documents" class="slide level2">
<h2>Here documents</h2>
<p>Als je meer dan één lijn wil afdrukken:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="fu">cat</span> <span class="op">&lt;&lt; _EOF_</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2">Usage: <span class="va">${0}</span> [OPT]... [ARG]..</a>
<a class="sourceLine" id="cb9-3" data-line-number="3"></a>
<a class="sourceLine" id="cb9-4" data-line-number="4">OPTIONS:</a>
<a class="sourceLine" id="cb9-5" data-line-number="5">  -h, --help  Print this help message</a>
<a class="sourceLine" id="cb9-6" data-line-number="6"></a>
<a class="sourceLine" id="cb9-7" data-line-number="7">_EOF_</a></code></pre></div>
<p><em>Let op:</em> geen spaties toegelaten vóór de eindemarkering</p>
</section><section id="here-documents-1" class="slide level2">
<h2>Here documents</h2>
<p>Dit kan bv. ook:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="ex">mysql</span> -uroot -p<span class="st">&quot;</span><span class="va">${db_password}</span><span class="st">&quot;</span> mysql <span class="op">&lt;&lt; _EOF_</span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2">DROP DATABASE IF EXISTS drupal;</a>
<a class="sourceLine" id="cb10-3" data-line-number="3">CREATE DATABASE drupal;</a>
<a class="sourceLine" id="cb10-4" data-line-number="4">GRANT ALL PRIVILEGES ON drupal TO <span class="va">${drupal_usr}</span>@localhost</a>
<a class="sourceLine" id="cb10-5" data-line-number="5">  IDENTIFIED BY <span class="va">${drupal_password}</span>;</a>
<a class="sourceLine" id="cb10-6" data-line-number="6">_EOF_</a></code></pre></div>
</section><section id="filters" class="slide level2">
<h2>Filters</h2>
<ul>
<li>Filter = commando dat:
<ol type="1">
<li>leest van <code>stdin</code> of bestand,</li>
<li>tekst transformeert, en</li>
<li>wegschrijft naar <code>stdout</code></li>
</ol></li>
<li>Combineer filters via <code>|</code> (pipe) om complexe bewerkingen op tekst toe te passen
<ul>
<li>De <em>UNIX-filosofie</em></li>
</ul></li>
</ul>
</section><section id="filters-overzicht" class="slide level2">
<h2>Filters: overzicht</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Commando</th>
<th style="text-align: left;">Doel</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>awk</code></td>
<td style="text-align: left;">Veelzijdige tool voor bewerken van tekst</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>cat</code></td>
<td style="text-align: left;">Druk inhoud bestand(en) af op stdout</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>cut</code></td>
<td style="text-align: left;">Selecteer “kolommen” uit tekstbestanden</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>fmt</code></td>
<td style="text-align: left;">Herformatteer tekst (bv. bepaald aantal kolommen)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>grep</code></td>
<td style="text-align: left;">Zoek ahv reguliere expressies naar tekstpatronen in bestanden</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>head</code></td>
<td style="text-align: left;">Toon de eerste regels van een tekstbestand</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>join</code></td>
<td style="text-align: left;">Voeg twee tekstbestanden samen ahv een gemeenschappelijke kolom</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>nl</code></td>
<td style="text-align: left;">Voeg regelnummers toe aan een bestand</td>
</tr>
</tbody>
</table>
</section><section id="filters-overzicht-1" class="slide level2">
<h2>Filters: overzicht</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Commando</th>
<th style="text-align: left;">Doel</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>paste</code></td>
<td style="text-align: left;">Voeg twee tekstbestanden regel per regel samen</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>sed</code></td>
<td style="text-align: left;">Veelzijdige tool voor bewerken van tekst (Stream EDitor)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>sort</code></td>
<td style="text-align: left;">Sorteer tekst</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>tail</code></td>
<td style="text-align: left;">Toon de laatste regels van een tekstbestand</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>tr</code></td>
<td style="text-align: left;">Zoek en vervang lettertekens in tekst</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>uniq</code></td>
<td style="text-align: left;">Verwijder dubbele rijen uit een gesorteerd tekstbestand</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>wc</code></td>
<td style="text-align: left;">Tel karakters, woorden of lijnen in een tekstbestand</td>
</tr>
</tbody>
</table>
</section><section id="sed-voorbeelden" class="slide level2">
<h2>Sed: voorbeelden</h2>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="co"># Zoeken en vervangen (1x per regel)</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="fu">sed</span> <span class="st">&#39;s/foo/bar/&#39;</span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"></a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="co"># &quot;Globaal&quot;, meerdere keren per regel</span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="fu">sed</span> <span class="st">&#39;s/foo/bar/g&#39;</span></a>
<a class="sourceLine" id="cb11-6" data-line-number="6"></a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="co"># Regels die beginnen met &#39;#&#39; verwijderen</span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8"><span class="fu">sed</span> <span class="st">&#39;/^#/d&#39;</span></a>
<a class="sourceLine" id="cb11-9" data-line-number="9"></a>
<a class="sourceLine" id="cb11-10" data-line-number="10"><span class="co"># Lege regels verwijderen</span></a>
<a class="sourceLine" id="cb11-11" data-line-number="11"><span class="fu">sed</span> <span class="st">&#39;/^$/d&#39;</span></a></code></pre></div>
</section><section id="awk-voorbeelden" class="slide level2">
<h2>Awk: voorbeelden</h2>
<p>Wat tussen accolades staat wordt uitgevoerd op elke regel</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="co"># Druk 3e kolom af (afgebakend door &quot;whitespace&quot;)</span></a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="fu">awk</span> <span class="st">&#39;{ print $4 }&#39;</span></a>
<a class="sourceLine" id="cb12-3" data-line-number="3"></a>
<a class="sourceLine" id="cb12-4" data-line-number="4"><span class="co"># Enkel regels afdrukken die beginnen met #</span></a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="fu">awk</span> <span class="st">&#39;/^#/ { print $0 }&#39;</span></a>
<a class="sourceLine" id="cb12-6" data-line-number="6"></a>
<a class="sourceLine" id="cb12-7" data-line-number="7"><span class="co"># Druk kolom 2 en 4 af, gescheiden door ;</span></a>
<a class="sourceLine" id="cb12-8" data-line-number="8"><span class="fu">awk</span> <span class="st">&#39;{ printf &quot;%s;%s&quot;, $2, $4 }&#39;</span></a></code></pre></div>
</section></section>
<section><section id="hoofdstuk-4.-scripting-intro" class="title-slide slide level1"><h1>Hoofdstuk 4. Scripting: intro</h1></section><section id="een-script-schrijven" class="slide level2">
<h2>Een script schrijven</h2>
<ol type="1">
<li><p>Maak bestand aan (bv. <code>mijn-script.sh</code>) met een teksteditor, bv.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="co">#! /bin/bash</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="bu">echo</span> <span class="st">&quot;Hallo </span><span class="va">${USER}</span><span class="st">&quot;</span></a></code></pre></div></li>
<li>Sla op en sluit af</li>
<li>Maak bestand uitvoerbaar: <code>chmod +x mijn-script.sh</code></li>
<li><p>Voer uit: <code>./mijn-script.sh</code></p></li>
</ol>
</section><section id="de-shebang" class="slide level2">
<h2>De “shebang”</h2>
<ul>
<li>Eerste regel van een script</li>
<li>Begint met <code>#!</code> (<code>#</code> = hash; <code>!</code> = bang)</li>
<li>Absoluut pad naar de interpreter voor het script, bv:
<ul>
<li><code>/usr/bin/python</code></li>
<li><code>/usr/bin/ruby</code></li>
<li><code>/usr/bin/env bash</code> (zoek in <code>${PATH}</code> naar <code>bash</code>)</li>
</ul></li>
</ul>
</section><section id="tekst-afdrukken" class="slide level2">
<h2>Tekst afdrukken</h2>
<p>Wat is het verschil?</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="va">var=</span><span class="st">&quot;world&quot;</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2"></a>
<a class="sourceLine" id="cb14-3" data-line-number="3"><span class="bu">echo</span> <span class="st">&quot;Hello </span><span class="va">${var}</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb14-4" data-line-number="4"><span class="bu">echo</span> <span class="st">&#39;Hello ${var}&#39;</span></a></code></pre></div>
</section><section class="slide level2">

<div class="sourceCode" id="cb15"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="va">var=</span><span class="st">&quot;world&quot;</span></a>
<a class="sourceLine" id="cb15-2" data-line-number="2"></a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="bu">echo</span> <span class="st">&quot;Hello </span><span class="va">${var}</span><span class="st">&quot;</span>    # Binnen <span class="st">&quot; wordt substitutie toegepast</span></a>
<a class="sourceLine" id="cb15-4" data-line-number="4"><span class="st">echo &#39;Hello </span><span class="va">${var}</span><span class="st">&#39;    # Binnen &#39; NIET!</span></a></code></pre></div>
</section><section id="command-substitution" class="slide level2">
<h2>Command substitution</h2>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="va">datum=$(</span><span class="fu">date</span><span class="va">)</span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2"></a>
<a class="sourceLine" id="cb16-3" data-line-number="3"><span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${datum}</span><span class="st">&quot;</span></a></code></pre></div>
</section><section id="gebruik-printf" class="slide level2">
<h2>Gebruik <code>printf</code></h2>
<p><code>printf</code> is beter dan <code>echo</code></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="va">var=</span><span class="st">&quot;world&quot;</span></a>
<a class="sourceLine" id="cb17-2" data-line-number="2"></a>
<a class="sourceLine" id="cb17-3" data-line-number="3"><span class="bu">printf</span> <span class="st">&quot;Hello %s\n&quot;</span> <span class="st">&quot;</span><span class="va">${var}</span><span class="st">&quot;</span></a></code></pre></div>
<ul>
<li>Het gedrag is beter gedefinieerd over verschillende UNIX-varianten.</li>
<li>Vgl. <code>printf()</code> method in Java!</li>
</ul>
</section><section id="variabelen" class="slide level2">
<h2>Variabelen</h2>
<p>Bash-variabelen zijn (meestal) strings.</p>
<p>Declaratie:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="va">variabele=</span>waarde</a></code></pre></div>
<p>Waarde v/e variabele opvragen:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="va">${variable}</span></a></code></pre></div>
<p>Gebruik in strings (met dubbele aanhalingstekens):</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="bu">echo</span> <span class="st">&quot;Hello </span><span class="va">${USER}</span><span class="st">&quot;</span></a></code></pre></div>
</section><section id="variabelen-1" class="slide level2">
<h2>Variabelen</h2>
<ul>
<li>Gebruik zoveel mogelijk de notatie <code>${var}</code>
<ul>
<li><em>accolades</em></li>
</ul></li>
<li>Gebruik dubbele aanhalingstekens: <code>&quot;${var}&quot;</code>
<ul>
<li>vermijd <em>splitsen</em> van woorden</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb21"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="va">bestand=</span><span class="st">&quot;Mijn bestand.txt&quot;</span></a>
<a class="sourceLine" id="cb21-2" data-line-number="2"><span class="fu">touch</span> <span class="va">${bestand}</span>               # Fout</a>
<a class="sourceLine" id="cb21-3" data-line-number="3"><span class="fu">touch</span> <span class="st">&quot;</span><span class="va">${bestand}</span><span class="st">&quot;</span>             # Juist</a></code></pre></div>
<ul>
<li>Onbestaande variabele wordt beschouwd als <em>lege string</em>.
<ul>
<li>Oorzaak van veel fouten in shell-scripts!</li>
<li><code>set -o nounset</code> ⇒ script afgebroken</li>
</ul></li>
</ul>
</section><section id="scope" class="slide level2">
<h2>Scope</h2>
<p>Enkel binnen zelfde “shell”, niet binnen “subshells”</p>
<ul>
<li>Een script oproepen creëert een subshell</li>
<li>Maak “globale”, of <em>omgevingsvariabele</em> met <code>export</code>:</li>
</ul>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="bu">export</span> <span class="va">VARIABLE1=</span>value</a>
<a class="sourceLine" id="cb22-2" data-line-number="2"></a>
<a class="sourceLine" id="cb22-3" data-line-number="3"><span class="va">VARIABLE2=</span>value</a>
<a class="sourceLine" id="cb22-4" data-line-number="4"><span class="bu">export</span> <span class="va">VARIABLE2</span></a></code></pre></div>
<p>Conventie naamgeving:</p>
<ul>
<li>Lokale variabelen: kleine letters, bv: <code>foo_bar</code></li>
<li>Omgevingsvariabelen: hoofdletters, bv. <code>FOO_BAR</code></li>
</ul>
</section></section>
<section><section id="hoofdstuk-5.-gebruikers-groepen-en-permissies" class="title-slide slide level1"><h1>Hoofdstuk 5. Gebruikers, groepen en permissies</h1></section><section id="commandos-voor-gebruikers-en-groepen" class="slide level2">
<h2>Commando’s voor gebruikers en groepen</h2>
<ul>
<li>Gebruikers: <code>useradd</code>, <code>usermod</code>, <code>userdel</code></li>
<li>Groepen: <code>groupadd</code>, <code>groupmod</code>, <code>groupdel</code></li>
<li>Info opvragen: <code>who</code>, <code>groups</code>, <code>id</code></li>
</ul>
</section><section id="configuratiebestanden" class="slide level2">
<h2>Configuratiebestanden</h2>
<ul>
<li>Gebruikers: <code>/etc/passwd</code>, <code>/etc/shadow</code></li>
<li>Groepen: <code>/etc/group</code>, (<code>/etc/gshadow</code>, van weinig belang)</li>
</ul>
</section><section id="primaire-vs-aanvullende-groepen" class="slide level2">
<h2>Primaire vs aanvullende groepen</h2>
<ul>
<li>Primaire groep: 4e veld van <code>/etc/passwd</code> (group ID)</li>
<li>Aanvullende groepen: in <code>/etc/group</code>. Gebruiker staat niet vermeld in de primaire groep!</li>
</ul>
</section><section class="slide level2">

<ul>
<li><p><em>primaire</em> groep aanpassen</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb23-1" data-line-number="1">$ <span class="ex">usermod</span> -g groep gebruiker</a></code></pre></div></li>
<li><p>gebruiker toevoegen aan opgegeven groepen <em>en verwijderen uit alle andere groepen</em></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb24-1" data-line-number="1">$ <span class="ex">usermod</span> -G groep1,groep2 gebruiker </a></code></pre></div></li>
<li><p>gebruiker toevoegen aan opgegeven groep, blijft lid van andere groepen</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb25-1" data-line-number="1">$ <span class="ex">usermod</span> -aG groep gebruiker</a></code></pre></div></li>
</ul>
</section><section id="bestandspermissies" class="slide level2">
<h2>Bestandspermissies</h2>
<ul>
<li>= toegangsrechten voor bestanden en directories
<ul>
<li>Bestanden zijn eigendom van een gebruiker en groep</li>
<li>cfr. <code>ls -l</code> voor een overzicht</li>
</ul></li>
</ul>
</section><section id="bestandspermissies-1" class="slide level2">
<h2>Bestandspermissies</h2>
<p>Instelbaar op niveau van:</p>
<ul>
<li><code>u</code>: gebruiker, user</li>
<li><code>g</code>: groep, group</li>
<li><code>o</code>: andere gebruikers, others</li>
<li><code>a</code>: iedereen, all</li>
</ul>
</section><section id="soorten-permissies" class="slide level2">
<h2>Soorten permissies</h2>
<ul>
<li><code>r</code>: lezen, read</li>
<li><code>w</code>: schrijven, write</li>
<li><code>x</code>: execute
<ul>
<li>uitvoeren als commando (file)</li>
<li>toegang met <code>cd</code> (directory)</li>
</ul></li>
</ul>
</section><section id="instellen-met-symbolische-notatie" class="slide level2">
<h2>Instellen met symbolische notatie</h2>
<p>permissies instellen met <code>chmod</code>, symbolische notatie</p>
<pre><code>chmod MODUS FILE
chmod u+r FILE
      g-w
      o=x
      a</code></pre>
<p>Voorbeelden:</p>
<ul>
<li><code>chmod g+rw bestand</code></li>
<li><code>chmod +x bestand</code></li>
<li><code>chmod u+rw,g+r,o-rw bestand</code></li>
<li><code>chmod a=r bestand</code></li>
</ul>
</section><section id="instellen-met-octale-notatie" class="slide level2">
<h2>Instellen met octale notatie</h2>
<pre><code>  u      g      o
r w x  r - x  - - -
1 1 1  1 0 1  0 0 0
4+2+1  4+0+1  0+0+0
  7      5      0</code></pre>
<p>Voorbeelden:</p>
<ul>
<li><code>chmod 755 script</code></li>
<li><code>chmod 600 file</code></li>
<li><code>chmod 644 file</code></li>
<li><code>chmod 775 dir</code></li>
</ul>
</section><section id="merk-op" class="slide level2">
<h2>Merk op</h2>
<ul>
<li>sommige permissie-combinaties komen nooit voor in de praktijk, bv. 1, 2, 3</li>
<li>directories: altijd lezen (r) en execute (x) <em>samen</em> toekennen of afnemen</li>
<li>gebruiker heeft altijd meer rechten dan groep/others</li>
<li><code>root</code> negeert bestandspermissies (mag alles), vb. <code>/etc/shadow</code></li>
</ul>
</section><section id="permissies-van-nieuwe-bestanden-umask" class="slide level2">
<h2>Permissies van nieuwe bestanden: <code>umask</code></h2>
<ul>
<li><code>umask</code> bepaalt permissies van bestand/directory bij aanmaken</li>
<li>huidige waarde opvragen: <code>umask</code> zonder opties</li>
<li>opgegeven in octale notatie
<ul>
<li>enkel 0, 2 en 7 zijn zinvol</li>
</ul></li>
<li>welke permissies <em>afnemen</em>
<ul>
<li>bestand krijgt nooit execute-permissie</li>
</ul></li>
</ul>
</section><section id="voorbeeld-umask" class="slide level2">
<h2>Voorbeeld <code>umask</code></h2>
<p><code>umask 0002</code>, wat worden de permissies?</p>
<pre><code>  file      directory

  0 6 6 6     0 7 7 7      basis
- 0 0 0 2   - 0 0 0 2      umask
---------   ---------
  0 6 6 4     0 7 7 5      permissies</code></pre>
</section><section id="speciale-permissies-suid" class="slide level2">
<h2>Speciale permissies: <em>SUID</em></h2>
<ul>
<li>set user ID (<em>SUID</em>)</li>
<li>op bestanden met execute-permissies</li>
<li>tijdens uitvoeren krijgt de gebruiker de rechten van de eigenaar van het bestand</li>
<li>symbolisch: <code>u+s</code></li>
<li>octaal: 4</li>
</ul>
<div class="sourceCode" id="cb29"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb29-1" data-line-number="1">$ <span class="fu">ls</span> -l /bin/passwd</a>
<a class="sourceLine" id="cb29-2" data-line-number="2"><span class="ex">-rwsr-xr-x.</span> 1 root root 28k 2017-02-11 12:02 /bin/passwd</a></code></pre></div>
</section><section id="speciale-permissies-sgid" class="slide level2">
<h2>Speciale permissies: <em>SGID</em></h2>
<ul>
<li>set group ID (<em>SGID</em>)</li>
<li>op bestanden met execute-permissies</li>
<li>tijdens uitvoeren krijgt de gebruiker de rechten van de groep van het bestand</li>
<li>symbolisch: <code>g+s</code></li>
<li>octaal: 2</li>
</ul>
<div class="sourceCode" id="cb30"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb30-1" data-line-number="1">$ <span class="fu">ls</span> -l /usr/bin/write </a>
<a class="sourceLine" id="cb30-2" data-line-number="2"><span class="ex">-rwxr-sr-x.</span> 1 root tty 20k 2017-09-22 10:55 /usr/bin/write</a></code></pre></div>
</section><section id="speciale-permissies-restricted-deletion" class="slide level2">
<h2>Speciale permissies: restricted deletion</h2>
<ul>
<li>restricted deletion, of <em>sticky bit</em></li>
<li>toegepast op directories</li>
<li>een bestand mag in zo’n directory enkel door de eigenaar verwijderd worden</li>
<li>symbolisch: <code>+t</code></li>
<li>octaal: 1</li>
</ul>
<div class="sourceCode" id="cb31"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb31-1" data-line-number="1"><span class="fu">ls</span> -ld /tmp</a>
<a class="sourceLine" id="cb31-2" data-line-number="2"><span class="ex">drwxrwxrwt.</span> 16 root root 360 2017-12-04 13:05 /tmp/</a></code></pre></div>
</section><section id="eigenaargroep-veranderen" class="slide level2">
<h2>Eigenaar/groep veranderen:</h2>
<p>Merk op: root-rechten nodig</p>
<pre><code>chown user file
chown user:group file
chgrp group file</code></pre>
</section></section>
<section><section id="hoofdstuk-6.-scripts-schrijven" class="title-slide slide level1"><h1>Hoofdstuk 6. Scripts schrijven</h1></section><section id="positionele-parameters" class="slide level2">
<h2>Positionele parameters</h2>
<p>Bij uitvoeren van script zijn opties en argumenten beschikbaar via variabelen, <em>positionele parameters</em></p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Variabele</th>
<th style="text-align: left;">Betekenis</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>${0}</code></td>
<td style="text-align: left;">Naam script</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>${1}</code>, <code>${2}</code>, …</td>
<td style="text-align: left;">Eerste, tweede, … argument</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>${10}</code></td>
<td style="text-align: left;">Tiende argument (accolades verplicht!)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>${*}</code></td>
<td style="text-align: left;">Alle argumenten: <code>${1} ${2} ${3}...</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>${@}</code></td>
<td style="text-align: left;">Alle argumeniten: <code>&quot;${1}&quot; &quot;${2}&quot; &quot;${3}&quot;...</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>${#}</code></td>
<td style="text-align: left;">Aantal positionele parameters</td>
</tr>
</tbody>
</table>
</section><section id="positionele-parameters-1" class="slide level2">
<h2>Positionele parameters</h2>
<p>Het commando <code>shift</code> schuift positionele parameters op:</p>
<ul>
<li><code>${1}</code> verdwijnt</li>
<li><code>${2}</code> wordt <code>${1}</code></li>
<li><code>${3}</code> wordt <code>${2}</code></li>
<li>enz.</li>
</ul>
</section><section id="positionele-parameters-instellen" class="slide level2">
<h2>Positionele parameters instellen</h2>
<div class="sourceCode" id="cb33"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb33-1" data-line-number="1"><span class="kw">set</span> <span class="ex">par1</span> par2 par3</a>
<a class="sourceLine" id="cb33-2" data-line-number="2"><span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${1}</span><span class="st">&quot;</span>  #  =<span class="op">&gt;</span> par1</a>
<a class="sourceLine" id="cb33-3" data-line-number="3"><span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${2}</span><span class="st">&quot;</span>  #  =<span class="op">&gt;</span> par2</a>
<a class="sourceLine" id="cb33-4" data-line-number="4"><span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${3}</span><span class="st">&quot;</span>  #  =<span class="op">&gt;</span> par3</a>
<a class="sourceLine" id="cb33-5" data-line-number="5"><span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${4}</span><span class="st">&quot;</span>  #  =<span class="op">&gt;</span>       (lege string)</a></code></pre></div>
</section><section id="exit-status" class="slide level2">
<h2>Exit-status</h2>
<ul>
<li>Elk commando heeft een <em>exit-status</em>, numerieke waarde
<ul>
<li>Opvragen met <code>echo &quot;$?&quot;</code></li>
<li>0 =&gt; commando geslaagd, logische <em>true</em></li>
<li>1-255 =&gt; commando gefaald, logische <em>false</em></li>
</ul></li>
<li>Logische operatoren in Bash zijn gebaseerd op exit-status</li>
<li>Booleaanse variabelen <em>bestaan niet</em></li>
</ul>
</section><section id="logische-operatoren" class="slide level2">
<h2>Logische operatoren</h2>
<div class="sourceCode" id="cb34"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb34-1" data-line-number="1"><span class="kw">if</span> <span class="ex">COMMANDO</span><span class="kw">;</span> <span class="kw">then</span></a>
<a class="sourceLine" id="cb34-2" data-line-number="2">  <span class="co"># A</span></a>
<a class="sourceLine" id="cb34-3" data-line-number="3"><span class="kw">else</span></a>
<a class="sourceLine" id="cb34-4" data-line-number="4">  <span class="co"># B</span></a>
<a class="sourceLine" id="cb34-5" data-line-number="5"><span class="kw">fi</span></a></code></pre></div>
<ul>
<li><code>A</code>-blok wordt uitgevoerd als exit-status van <code>COMMANDO</code> 0 is (geslaagd, TRUE)</li>
<li><code>B</code>-blok wordt uitgevoerd als exit-status van <code>COMMANDO</code> verschillend is van 0 (gefaald, FALSE)</li>
</ul>
</section><section id="het-commando-test" class="slide level2">
<h2>Het commando <code>test</code></h2>
<ul>
<li>Evalueren van logische expressies</li>
<li>Geeft geschikte exit-status
<ul>
<li>0 = TRUE</li>
<li>1 = FALSE</li>
</ul></li>
<li>Alias voor <code>test</code> is <code>[</code>
<ul>
<li><code>[</code> is een <em>commando</em>, geen “haakje” in de traditionele betekenis</li>
<li>spaties vóór en na!</li>
</ul></li>
</ul>
</section><section class="slide level2">

<div class="sourceCode" id="cb35"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb35-1" data-line-number="1"><span class="co"># Fout:</span></a>
<a class="sourceLine" id="cb35-2" data-line-number="2"><span class="ex">if</span>[<span class="va">$#</span>-eq 0]<span class="kw">;</span> <span class="kw">then</span></a>
<a class="sourceLine" id="cb35-3" data-line-number="3">  <span class="bu">echo</span> <span class="st">&quot;Expected at least one argument&quot;</span></a>
<a class="sourceLine" id="cb35-4" data-line-number="4"><span class="kw">fi</span></a>
<a class="sourceLine" id="cb35-5" data-line-number="5"></a>
<a class="sourceLine" id="cb35-6" data-line-number="6"><span class="co"># Juist:</span></a>
<a class="sourceLine" id="cb35-7" data-line-number="7"><span class="kw">if</span><span class="bu"> [</span> <span class="st">&quot;</span><span class="va">${#}</span><span class="st">&quot;</span> <span class="ot">-eq</span> <span class="st">&quot;0&quot;</span><span class="bu"> ]</span>; <span class="kw">then</span></a>
<a class="sourceLine" id="cb35-8" data-line-number="8">  <span class="bu">echo</span> <span class="st">&quot;Expected at least one argument&quot;</span></a>
<a class="sourceLine" id="cb35-9" data-line-number="9"><span class="kw">fi</span></a></code></pre></div>
</section><section id="if" class="slide level2">
<h2>If</h2>
<div class="sourceCode" id="cb36"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb36-1" data-line-number="1"><span class="kw">if</span> <span class="ex">EXPR</span></a>
<a class="sourceLine" id="cb36-2" data-line-number="2"><span class="kw">then</span></a>
<a class="sourceLine" id="cb36-3" data-line-number="3">  <span class="co"># ...</span></a>
<a class="sourceLine" id="cb36-4" data-line-number="4"><span class="kw">elif</span> <span class="ex">EXPR</span></a>
<a class="sourceLine" id="cb36-5" data-line-number="5">  <span class="co"># ...</span></a>
<a class="sourceLine" id="cb36-6" data-line-number="6"><span class="kw">else</span></a>
<a class="sourceLine" id="cb36-7" data-line-number="7">  <span class="co"># ...</span></a>
<a class="sourceLine" id="cb36-8" data-line-number="8"><span class="kw">fi</span></a></code></pre></div>
</section><section id="if-1" class="slide level2">
<h2>If</h2>
<div class="sourceCode" id="cb37"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb37-1" data-line-number="1"><span class="kw">if</span><span class="bu"> [</span> <span class="st">&quot;</span><span class="va">${#}</span><span class="st">&quot;</span> <span class="ot">-gt</span> <span class="st">&#39;2&#39;</span><span class="bu"> ]</span>; <span class="kw">then</span></a>
<a class="sourceLine" id="cb37-2" data-line-number="2">  <span class="bu">printf</span> <span class="st">&quot;Too many arguments\n&quot;</span> <span class="op">&gt;&amp;2</span></a>
<a class="sourceLine" id="cb37-3" data-line-number="3">  <span class="bu">exit</span> 1</a>
<a class="sourceLine" id="cb37-4" data-line-number="4"><span class="kw">fi</span></a></code></pre></div>
</section><section id="case" class="slide level2">
<h2>Case</h2>
<div class="sourceCode" id="cb38"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb38-1" data-line-number="1"><span class="kw">case</span> EXPR<span class="kw"> in</span></a>
<a class="sourceLine" id="cb38-2" data-line-number="2">  CASE1<span class="kw">)</span></a>
<a class="sourceLine" id="cb38-3" data-line-number="3">    <span class="co"># ...</span></a>
<a class="sourceLine" id="cb38-4" data-line-number="4">    <span class="kw">;;</span></a>
<a class="sourceLine" id="cb38-5" data-line-number="5">  CASE2<span class="kw">)</span></a>
<a class="sourceLine" id="cb38-6" data-line-number="6">    <span class="co"># ...</span></a>
<a class="sourceLine" id="cb38-7" data-line-number="7">    <span class="kw">;;</span></a>
<a class="sourceLine" id="cb38-8" data-line-number="8">  *<span class="kw">)</span></a>
<a class="sourceLine" id="cb38-9" data-line-number="9">    <span class="co"># ...</span></a>
<a class="sourceLine" id="cb38-10" data-line-number="10">    <span class="kw">;;</span></a>
<a class="sourceLine" id="cb38-11" data-line-number="11"><span class="kw">esac</span></a></code></pre></div>
</section><section id="case-1" class="slide level2">
<h2>Case</h2>
<div class="sourceCode" id="cb39"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb39-1" data-line-number="1"><span class="va">option=</span><span class="st">&quot;</span><span class="va">${1}</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb39-2" data-line-number="2"></a>
<a class="sourceLine" id="cb39-3" data-line-number="3"><span class="kw">case</span> <span class="st">&quot;</span><span class="va">${option}</span><span class="st">&quot;</span><span class="kw"> in</span></a>
<a class="sourceLine" id="cb39-4" data-line-number="4">  -h<span class="kw">|</span>--help<span class="kw">|</span>-?<span class="kw">)</span></a>
<a class="sourceLine" id="cb39-5" data-line-number="5">    <span class="ex">usage</span></a>
<a class="sourceLine" id="cb39-6" data-line-number="6">    <span class="bu">exit</span> 0</a>
<a class="sourceLine" id="cb39-7" data-line-number="7">    <span class="kw">;;</span></a>
<a class="sourceLine" id="cb39-8" data-line-number="8">  -v<span class="kw">|</span>--verbose<span class="kw">)</span></a>
<a class="sourceLine" id="cb39-9" data-line-number="9">    <span class="va">verbose=</span>y</a>
<a class="sourceLine" id="cb39-10" data-line-number="10">    <span class="bu">shift</span></a>
<a class="sourceLine" id="cb39-11" data-line-number="11">    <span class="kw">;;</span></a>
<a class="sourceLine" id="cb39-12" data-line-number="12">  *<span class="kw">)</span></a>
<a class="sourceLine" id="cb39-13" data-line-number="13">    <span class="bu">printf</span> <span class="st">&quot;Unrecognized option: %s\n&quot;</span> <span class="st">&quot;</span><span class="va">${option}</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb39-14" data-line-number="14">    <span class="ex">usage</span></a>
<a class="sourceLine" id="cb39-15" data-line-number="15">    <span class="bu">exit</span> 1</a>
<a class="sourceLine" id="cb39-16" data-line-number="16">    <span class="kw">;;</span></a>
<a class="sourceLine" id="cb39-17" data-line-number="17"><span class="kw">esac</span></a></code></pre></div>
</section><section id="while-lus" class="slide level2">
<h2>While-lus</h2>
<div class="sourceCode" id="cb40"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb40-1" data-line-number="1"><span class="kw">while</span> <span class="ex">EXPR</span><span class="kw">;</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb40-2" data-line-number="2">  <span class="co"># ...</span></a>
<a class="sourceLine" id="cb40-3" data-line-number="3"><span class="kw">done</span></a></code></pre></div>
</section><section id="until-lus" class="slide level2">
<h2>Until-lus</h2>
<div class="sourceCode" id="cb41"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb41-1" data-line-number="1"><span class="kw">until</span> <span class="ex">EXPR</span><span class="kw">;</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb41-2" data-line-number="2">  <span class="co"># ...</span></a>
<a class="sourceLine" id="cb41-3" data-line-number="3"><span class="kw">done</span></a></code></pre></div>
</section><section id="for-lus" class="slide level2">
<h2>For-lus</h2>
<p>Itereren over een lijst</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb42-1" data-line-number="1"><span class="kw">for</span> <span class="ex">ITEM</span> in LIST<span class="kw">;</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb42-2" data-line-number="2">  <span class="co"># ...</span></a>
<a class="sourceLine" id="cb42-3" data-line-number="3"><span class="kw">done</span></a></code></pre></div>
<div class="sourceCode" id="cb43"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb43-1" data-line-number="1"><span class="kw">for</span> <span class="fu">file</span> in *.md<span class="kw">;</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb43-2" data-line-number="2">  <span class="bu">printf</span> <span class="st">&quot;Processing file %s\n&quot;</span> <span class="st">&quot;</span><span class="va">${file}</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb43-3" data-line-number="3">  <span class="co"># ...</span></a>
<a class="sourceLine" id="cb43-4" data-line-number="4"><span class="kw">done</span></a></code></pre></div>
</section><section id="itereren-over-positionele-parameters-while" class="slide level2">
<h2>Itereren over positionele parameters (<code>while</code>)</h2>
<div class="sourceCode" id="cb44"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb44-1" data-line-number="1"><span class="kw">while</span><span class="bu"> [</span> <span class="st">&quot;</span><span class="va">$#</span><span class="st">&quot;</span> <span class="ot">-gt</span> 0<span class="bu"> ]</span>; <span class="kw">do</span></a>
<a class="sourceLine" id="cb44-2" data-line-number="2">  <span class="bu">printf</span> <span class="st">&quot;Arg: %s\n&quot;</span> <span class="st">&quot;</span><span class="va">${1}</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb44-3" data-line-number="3">  <span class="co"># ...</span></a>
<a class="sourceLine" id="cb44-4" data-line-number="4">  <span class="bu">shift</span></a>
<a class="sourceLine" id="cb44-5" data-line-number="5"><span class="kw">done</span></a></code></pre></div>
</section><section id="itereren-over-positionele-parameters-for" class="slide level2">
<h2>Itereren over positionele parameters (<code>for</code>)</h2>
<div class="sourceCode" id="cb45"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb45-1" data-line-number="1"><span class="kw">for</span> <span class="ex">arg</span> in <span class="st">&quot;</span><span class="va">${@}</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb45-2" data-line-number="2">  <span class="bu">printf</span> <span class="st">&quot;Arg: %s\n&quot;</span> <span class="st">&quot;</span><span class="va">${arg}</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb45-3" data-line-number="3">  <span class="co"># ...</span></a>
<a class="sourceLine" id="cb45-4" data-line-number="4"><span class="kw">done</span></a></code></pre></div>
</section></section>
<section><section id="hoofdstuk-7.-een-webserver-installeren" class="title-slide slide level1"><h1>Hoofdstuk 7. Een webserver installeren</h1></section><section id="netwerkinstellingen-controleren" class="slide level2">
<h2>Netwerkinstellingen controleren</h2>
<p>Om Internettoegang mogelijk te maken zijn er 3 instellingen nodig:</p>
<ol type="1">
<li>IP-adres en subnetmasker</li>
<li>Default gateway</li>
<li>DNS-server</li>
</ol>
</section><section id="netwerkinstellingen-opvragen" class="slide level2">
<h2>Netwerkinstellingen opvragen</h2>
<ol type="1">
<li>IP-adress/netmask: <code>ip address</code> (<code>ip a</code>)</li>
<li>Default gateway: <code>ip route</code> (<code>ip r</code>)</li>
<li>DNS-server: <code>cat /etc/resolv.conf</code></li>
</ol>
</section></section>
    </div>
  </div>

  <script src="reveal.js/lib/js/head.min.js"></script>
  <script src="reveal.js/js/reveal.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        // Push each slide change to the browser history
        history: true,

        // Optional reveal.js plugins
        dependencies: [
          { src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true },
          { src: 'reveal.js/plugin/notes/notes.js', async: true }
        ]
      });
    </script>
    </body>
</html>
